---
import Layout from "../layout/layout.astro";
import { Icon } from "astro-icon/components";
---

<Layout title="Squeaky JS | Perfil">
  <div id="perfil">
    <div class="profile">
      <div class="foto"></div>
      <h1 class="title">Nombre de ususrio</h1>
      <textarea placeholder="Descripcion" class="desc"></textarea>
    </div>
    <div class="tu">
      <div class="profile2">
        <h2 class= "font-sans font-bold text-2xl text-white mb-4">Tus Datos</h2>
        <div class="edit">
          <Icon name="lapiz" width={20} height={20} />
        </div>
        
        <h2>Nombre y Apellido</h2>
        <input type="text">
        <h2>Correo Electronico</h2>
        <input type="text" id="gmail">
        <h2>Contraseña</h2>
        <input type="password">
        <h2>Fecha de  Naciimiento</h2>
        <input type="date" id="dateInput">
      </div>
      <div class="racha">
        <input type="range">
      </div>
    </div>
  </div>
  <style>
    .title {
      font-size: 20px;
      font-weight: bold;
    }
    .edit {
      background-color: gray;
      width: 2em;
      height: 2em;
      border-radius: 50%;
      display:flex;
      justify-content: center;
      align-items: center;
      margin-left: 31em;
      margin-bottom: 4em;
      position: absolute;
    }
    
    input::placeholder {
      color: #000;
    }
    .tu {
      display: flex;
      flex-direction: column;
      gap: 1em;
    }
    .racha {
      background-color: #23262F;
      color: rgb(163, 163, 163);
      text-align: center;
      width: 40em;
      height: 6.9em;
      align-text: center;
      text-align: center;
      font-family: urbanist;
    }

    #perfil {
      display: flex;
      gap: 1em;
      justify-content: center;
      margin-inline: auto;
    }
    .profile2 {
      background-color: #23262F;
      display: flex;
      flex-direction: column;
      align-items: left;
      gap: 0.4em;
      width: 40em;
      /* height: 23em; */
      padding: 3em;
      color: black;
      margin-top: 3em;
      
      
    }
    .profile2 > input {
      border-radius: 0.5em;
      width: 25em;
      height: 2em;
      color: rgb(250, 246, 246);
      background-color: #4C4C4C;
      padding-left: 1em;
      border: 1px solid #A4A4A4 ;
      
    }
    .profile2 > h2 {
      color: white;
      font-size: 4em large>;
      
    }
    .profile {
      background-color: #23262F;
      width: 35em;
      height: 34em;
      text-align: center;
      align-items: center;
      padding: 3em;
      margin-top: 3em;
      display: flex;
      gap: 2em;
      flex-direction: column;
      
    }
    .profile > h1 {
      color: white;
    }
  
    .desc {
      background-color: #23262F;
      width: 20em;
      height: 7em;
      text-align: center;
      color: white;
      border-radius: 1em;
      resize: none;
    }
    .desc::placeholder {
      color: white;
      text-align: center;
      padding-top: 40px;
      resize: none;
    }
    .foto {
      background-color: rgb(28, 33, 41);
      width: 15em;
      height: 15em;
      border-radius: 50em;
      text-align: center;
      align-items: center;
      padding: 3em;
    }
    .nombre {
      background-color: #4C4C4C;
    }
    
  </style>
  <script>
    const dateInput = document.getElementById('dateInput');
    const nombre = document.getElementById("name");
    const usuario = localStorage.getItem("users");
    const apellido = document.getElementById("apellido");
    const gmail = document.getElementById("gmail");

    const name = localStorage.getItem("name")
    const email = localStorage.getItem("email");

  nombre.value = name;
/** 
    if(!nombre.value == undefined) {
        nombre.value = usuario.name;
    } else {
      nombre.placeholder = "Nombre";
    };  
*/
    gmail.value = email;
    dateInput.addEventListener('input', function(e) {
        let value = e.target.value;
        
        value = value.replace(/\D/g, '');  // Eliminar todo lo que no sea número
        if (value.length >= 2) {
            value = value.slice(0, 2) + '/' + value.slice(2);  // Insertar la primera barra
        }
        if (value.length >= 5) {
            value = value.slice(0, 5) + '/' + value.slice(5);  // Insertar la segunda barra
        }
        e.target.value = value;
    });
</script>

</Layout>
