---
import Layout from "../layout/layout.astro";
---

<Layout title="Squeaky JS | Perfil">
  <div id="perfil">
    <div class="profile">
      <h1 class="foto">foto de Perfil</h1>
      <h1>Nombre de ususrio</h1>
      <textarea rows="4" cols="50" wrap="soft" placeholder="Descripcion" class="desc"></textarea>
    </div>
    <div class="tu">
      <div class="profile2">
        <input type="text" id="name" placeholder="Nombre" class="nombre" />
        <input type="text" id="apellido" placeholder="Apellidos" class="nombre" />
        <input type="text" id="gmail" placeholder="Gmail" class="nombre" />
        <input type="text" id="dateInput" placeholder="Fecha de Nacimiento" maxlength="10">
      </div>
      <div class="racha">
        <h1>
          pantalla que muestra la mejor racha del usuario y su progreso hasta el
          momento
        </h1>
      </div>
    </div>
  </div>
  <style>
    input::placeholder {
      color: #000;
    }
    .tu {
      display: flex;
      flex-direction: column;
      gap: 1em;
    }
    .racha {
      background-color: rgb(50, 51, 51);
      color: rgb(163, 163, 163);
      text-align: center;
      width: 40em;
      height: 9em;
      align-text: center;
      text-align: center;
    }

    #perfil {
      display: flex;
      gap: 1em;
    }
    .profile2 {
      background-color: rgb(50, 51, 51);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1em;
      width: 40em;
      height: 20em;
      padding: 3em;
      color: black;
      margin-top: 3em;
    }
    .profile2 > input {
      border-radius: 1em;
      width: 30em;
      height: 4em;
      color: black;
      text-align: left;
      background-color: rgb(163, 163, 163);
      padding-left: 1em;
    }
    .profile {
      background-color: rgb(50, 51, 51);
      width: 25em;
      height: 30em;
      text-align: center;
      margin-left: 10em;
      align-items: center;
      padding: 3em;
      margin-top: 3em;
      display: flex;
      gap: 1em;
      flex-direction: column;
    }
    .nombre {
      background-color: rgb(163, 163, 163);
      width: 12em;
      height: 2em;
      text-align: center;
      color: black;
    }
    .desc {
      background-color: rgb(163, 163, 163);
      width: 20em;
      height: 7em;
      text-align: center;
      color: black;
      border-radius: 1em;
    }
    .desc::placeholder {
      color: #000;
      text-align: center;
      padding-top: 40px;
      resize: none;
    }
    .foto {
      background-color: rgb(28, 33, 41);
      width: 10em;
      height: 10em;
      border-radius: 50em;
      text-align: center;
      align-items: center;
      padding: 3em;
    }
    .nombre {
      width: 10em;
      height: 4em;
      color: black;
      background-color: rgb(163, 163, 163);
    }
  </style>
  <script>
    const dateInput = document.getElementById('dateInput');
    const nombre = document.getElementById("name");
    const usuario = localStorage.getItem("users");
    const apellido = document.getElementById("apellido");
    const gmail = document.getElementById("gmail");

    const name = localStorage.getItem("name")
    const email = localStorage.getItem("email");

  nombre.value = name;
/** 
    if(!nombre.value == undefined) {
        nombre.value = usuario.name;
    } else {
      nombre.placeholder = "Nombre";
    };  
*/
    gmail.value = email;
    dateInput.addEventListener('input', function(e) {
        let value = e.target.value;
        
        value = value.replace(/\D/g, '');  // Eliminar todo lo que no sea nÃºmero
        if (value.length >= 2) {
            value = value.slice(0, 2) + '/' + value.slice(2);  // Insertar la primera barra
        }
        if (value.length >= 5) {
            value = value.slice(0, 5) + '/' + value.slice(5);  // Insertar la segunda barra
        }
        e.target.value = value;
    });
</script>

</Layout>
